<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á∑ë„É∂‰∏òÂ•≥Â≠ê „Å™„Çä„Åü„ÅÑËá™ÂàÜË®∫Êñ≠</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap');
        body { font-family: 'Zen Maru Gothic', sans-serif; }
        /* „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Áî® */
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fade-in-up 0.6s ease-out forwards; }
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">
    <div id="root"></div>

    <script type="module">
        import React, { useState, useEffect } from 'https://esm.sh/react@18.2.0';
        import { createRoot } from 'https://esm.sh/react-dom@18.2.0/client';
        import { 
            Sparkles, Heart, School, BookOpen, Trophy, Briefcase, Smile, 
            ArrowRight, RefreshCw, Star, Music, Sun, Cloud, PenTool, 
            Globe, Stethoscope, Baby, Rocket, Monitor, Instagram, 
            Share2, X, Copy, ExternalLink, Image as ImageIcon, Download 
        } from 'https://esm.sh/lucide-react@0.263.1';

        const MidorigaokaDiagnosis = () => {
            const [step, setStep] = useState('start');
            const [history, setHistory] = useState([]);
            const [programResult, setProgramResult] = useState(null);
            const [anxietyLevel, setAnxietyLevel] = useState('low');
            const [showShareModal, setShowShareModal] = useState(false);
            const [isGeneratingImage, setIsGeneratingImage] = useState(false);
            const [generatedImage, setGeneratedImage] = useState(null);
            const [copySuccess, setCopySuccess] = useState(false);

            useEffect(() => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, [step]);

            const programs = {
                academics: {
                    id: 'academics',
                    title: '„Ç¢„Ç´„Éá„Éü„ÇØ„Çπ',
                    subtitle: '„ÄúÁõÆÊåá„ÅõÔºÅÁü•Ë≠ò„ÅÆÊé¢Á©∂ËÄÖ„Äú',
                    color: 'bg-blue-50 border-blue-200',
                    headerBg: 'bg-gradient-to-b from-blue-100 to-white',
                    textGradient: 'from-blue-500 to-indigo-600',
                    accentColor: 'text-blue-600',
                    hexColor: '#3B82F6',
                    bgHex: '#EFF6FF',
                    emoji: 'üìö',
                    icon: React.createElement("img", { src: "resulticon02.png", className: "w-22 h-22 object-contain drop-shadow-md", alt: "Icon" }),
                    midorisuMsg: "È´ò„ÅÑÁõÆÊ®ô„Å´Âêë„Åã„Å£„Å¶„Ç≥„ÉÑ„Ç≥„ÉÑÈ†ëÂºµ„Çå„Çã„Ç≠„Éü„ÅØÊú¨ÂΩì„Å´„Åã„Å£„Åì„ÅÑ„ÅÑ„ÇàÔºÅ‚ú® Èï∑Êúü‰ºëÊöá„ÅÆ„Çª„Éü„Éä„Éº„ÇÑÂÄãÂà•ÊúÄÈÅ©ÂåñÂ≠¶Áøí„ÅßÂäõ„ÇíËìÑ„Åà„Å¶„ÄÅ„Ç≠„Éü„Å´„Åó„ÅãÂà∞ÈÅî„Åß„Åç„Å™„ÅÑÊú™Êù•„ÇíÊé¥„ÅøÂèñ„Å£„Å¶„Å≠ÔºÅ",
                    fact: "Â°æ„Å´ÈÄö„Çè„Åö„Å®„ÇÇ„ÄÅÊ†°ÂÜÖÂÆåÂÇô„ÅÆÂ≠¶ÁøíÂÆ§„ÇÑÈï∑Êúü‰ºëÊöá‰∏≠„ÅÆ„Çª„Éü„Éä„Éº„ÄÅÊó•„ÄÖ„ÅÆËá™Â≠¶Ëá™ÁøíÁÆ°ÁêÜ„Å™„Å©„ÅßÁùÄÂÆü„Å´Âäõ„Çí‰º∏„Å∞„Åó„ÄÅ‰∏ä‰ΩçÂ§ßÂ≠¶„Å∏„ÅÆ‰∏ÄËà¨ÈÅ∏ÊäúÂêàÊ†º„ÇíÁõÆÊåá„Åõ„Åæ„Åô„ÄÇ",
                },
                nursing: {
                    id: 'nursing',
                    title: 'ÁúãË≠∑ÂåªÁôÇ',
                    subtitle: '„ÄúÊú™Êù•„ÅÆÁôΩË°£„ÅÆÂ§©‰Ωø„Äú',
                    color: 'bg-pink-50 border-pink-200',
                    headerBg: 'bg-gradient-to-b from-pink-100 to-white',
                    textGradient: 'from-pink-500 to-rose-600',
                    accentColor: 'text-pink-600',
                    hexColor: '#EC4899',
                    bgHex: '#FDF2F8',
                    emoji: 'üíâ',
                    icon: React.createElement("img", { src: "resulticon03.png", className: "w-22 h-22 object-contain drop-shadow-md", alt: "Icon" }),
                    midorisuMsg: "Ë™∞„Åã„ÅÆ„Åü„ÇÅ„Å´ÂÜ∑Èùô„Å´Âãï„Åë„Çã„Ç≠„Éü„ÅØ„ÄÅ„Åø„Çì„Å™„ÅÆÈ†º„Çå„Çã„Éí„Éº„É≠„Éº„Å†„Å≠üíñ ÁúãË≠∑‰ΩìÈ®ì„ÇÑ„Çª„Éü„Éä„Éº„Åß„ÄÅ„Åù„ÅÆÂÑ™„Åó„ÅÑÂøÉ„Çí„ÄéÁ¢∫„Åã„Å™ÊäÄË°ì„Äè„Å´Â§â„Åà„Å¶„ÅÑ„Åì„ÅÜÔºÅ",
                    fact: "2026Âπ¥Â∫¶„Åã„Çâ„ÅÆÁ≥ªÂ±ûÊ†°Âåñ„Å´„Çà„Çä„ÄÅÁ•ûÂ•àÂ∑ùÊ≠ØÁßëÂ§ßÂ≠¶„Å∏„ÅÆÁâπÂà•„Å™ÂÖ•Ë©¶Âà∂Â∫¶„ÅåË®≠ÁΩÆ„Åï„Çå„Åæ„Åô„ÄÇ„Åæ„Åü„ÄÅÈö£Êé•„Åô„ÇãËÅñ„É®„Çº„ÉïÁóÖÈô¢„Åß„ÅÆ3Êó•ÈñìÂÆüÁøí„ÇÑÁèæÂΩπÂåªÂ∏´„Å´„Çà„ÇãË¨õÁæ©„Å™„Å©„ÄÅÁèæÂ†¥„ÇíËÇå„ÅßÊÑü„Åò„ÇãÊ©ü‰ºö„ÅåË±äÂØå„Åß„Åô„ÄÇ",
                },
                child_education: {
                    id: 'child_education',
                    title: '„Åì„Å©„ÇÇÊïôËÇ≤',
                    subtitle: '„ÄúÁ¨ëÈ°î„Çí„Å§„Åè„ÇãÂÖàÁîü„Äú',
                    color: 'bg-yellow-50 border-yellow-200',
                    headerBg: 'bg-gradient-to-b from-yellow-100 to-white',
                    textGradient: 'from-yellow-500 to-orange-500',
                    accentColor: 'text-yellow-600',
                    hexColor: '#EAB308',
                    bgHex: '#FEFCE8',
                    emoji: 'üåª',
                    icon: React.createElement("img", { src: "resulticon04.png", className: "w-22 h-22 object-contain drop-shadow-md", alt: "Icon" }),
                    midorisuMsg: "Âë®„Çä„ÇíÁ¨ëÈ°î„Å´„Åô„ÇãÂ§©Êâç„Å†„Å≠ÔºÅüåª „Åì„Å©„ÇÇÊïôËÇ≤Âü∫Á§éË¨õÂ∫ß„ÇÑÂÆüÁøí„Åß„ÄÅ„Ç≠„Éü„ÅÆ„ÄéÊïô„Åà„ÇãÂÑ™„Åó„Åï„Äè„ÅØ„ÇÇ„Å£„Å®Ëºù„Åè„ÅØ„Åö„Å†„Çà„ÄÇÁ¥†Êïµ„Å™ÂÖàÁîü„Å´„Å™„ÇãÊú™Êù•„ÅåË¶ã„Åà„Çã„ÇàÔºÅ",
                    fact: "ÈÄ±1Âõû„ÅÆÂÄã‰∫∫„Éî„Ç¢„Éé„É¨„ÉÉ„Çπ„É≥„ÇÑ„ÄÅÊ®™È†àË≥ÄÂπºÁ®öÂúí„Åß„ÅÆ1Âπ¥„Å´„Çè„Åü„ÇãÂÆöÊúüÂÆüÁøí„ÄÅ‰øùËÇ≤ÊäÄË°ì„ÇíÂ≠¶„Åπ„ÇãÊéàÊ•≠„Å™„Å©„ÄÅÂÆüË∑µÁöÑ„Å™„Çπ„Ç≠„É´„ÇíÁ£®„ÅèÁí∞Â¢É„ÅåÊï¥„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÊïôËÇ≤Á≥ª„ÅÆ‰∏äÁ¥öÂ≠¶Ê†°„Å∏ÈÄ≤Â≠¶„Åô„ÇãÈ´ò„ÅÑÂÆüÁ∏æ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ",
                },
                future_exploration: {
                    id: 'future_exploration',
                    title: 'Êú™Êù•Êé¢Á©∂',
                    subtitle: '„ÄúÁ§æ‰ºö„ÇíÂ§â„Åà„ÇãÂÜíÈô∫ËÄÖ„Äú',
                    color: 'bg-purple-50 border-purple-200',
                    headerBg: 'bg-gradient-to-b from-purple-100 to-white',
                    textGradient: 'from-purple-500 to-violet-600',
                    accentColor: 'text-purple-600',
                    hexColor: '#A855F7',
                    bgHex: '#FAF5FF',
                    emoji: 'üöÄ',
                    icon: React.createElement("img", { src: "resulticon05.png", className: "w-22 h-22 object-contain drop-shadow-md", alt: "Icon" }),
                    midorisuMsg: "Â•ΩÂ•áÂøÉÊó∫Áõõ„Å™„Ç≠„Éü„ÅÆË¶ñÁÇπ„ÅØ„ÄÅ„Åì„Çå„Åã„Çâ„ÅÆ‰∏ñÁïå„ÇíÈù¢ÁôΩ„Åè„Åô„ÇãÈçµ„Å†„ÇàüóùÔ∏è ‰ºÅÊ•≠Ë¶ãÂ≠¶„ÇÑÊé¢Á©∂Ê¥ªÂãï„ÇíÈÄö„Åò„Å¶„ÄÅÊïôÁßëÊõ∏„Å´„ÅØËºâ„Å£„Å¶„ÅÑ„Å™„ÅÑ„ÉØ„ÇØ„ÉØ„ÇØ„Çí„Åü„Åè„Åï„ÇìË¶ã„Å§„Åë„Å¶„Å≠ÔºÅ",
                    fact: "Â∞ÜÊù•„ÅÆÂ§¢„ÇíËøΩÊ±Ç„Åó„Åü„ÅÑÁîüÂæí„ÄÅ„Åæ„Åü„ÅØ„Åì„Çå„Åã„ÇâË¶ã„Å§„Åë„Åü„ÅÑÁîüÂæí„Å©„Å°„Çâ„ÇÇÂ§ßÊ≠ìËøé„Åß„Åô„ÄÇ‰ºÅÊ•≠Ë¶ãÂ≠¶„ÇÑÊé¢Á©∂Áô∫Ë°®„ÄÅÂ§ñÈÉ®„Å®ÈÄ£Êê∫„Åó„ÅüÊú¨Ê†ºÁöÑ„Å™Ê¥ªÂãï„ÇíÈÄö„Åò„Å¶„ÄÅÁ∑èÂêàÂûãÈÅ∏Êäú„Å´‰∏çÂèØÊ¨†„Å™„ÄåË™≤È°åËß£Ê±∫Âäõ„Äç„ÇíÈ§ä„ÅÑ„Åæ„Åô„ÄÇ",
                },
                career_build: {
                    id: 'career_build',
                    title: '„Ç≠„É£„É™„Ç¢„Éì„É´„Éâ',
                    subtitle: '„Äú„Çπ„Ç≠„É´„ÅÆÈÅî‰∫∫„Äú',
                    color: 'bg-green-50 border-green-200',
                    headerBg: 'bg-gradient-to-b from-green-100 to-white',
                    textGradient: 'from-green-500 to-emerald-600',
                    accentColor: 'text-green-600',
                    hexColor: '#22C55E',
                    bgHex: '#F0FDF4',
                    emoji: 'üíº',
                    icon: React.createElement("img", { src: "resulticon06.png", className: "w-22 h-22 object-contain drop-shadow-md", alt: "Icon" }),
                    midorisuMsg: "Ëá™ÂàÜ„ÅÆÊâã„ÅßÈÅì„ÇíÂàá„ÇäÊãì„Åì„ÅÜ„Å®„Åô„ÇãÂßøÂã¢„ÄÅ„Åô„Åî„ÅèÁ¥†Êïµ„Å†„ÇàÔºÅüåø Ë≥áÊ†ºÂèñÂæó„ÇÑÂ∞ÇÈñÄÂ≠¶Ê†°„ÅÆÂÖàÁîü„Å®„ÅÆÂá∫‰ºö„ÅÑ„Åß„ÄÅ„Ç≠„Éü„Å†„Åë„ÅÆ„Äé‰∏ÄÁîü„É¢„Éé„ÅÆÊ≠¶Âô®„Äè„ÇíÊâã„Å´ÂÖ•„Çå„Çà„ÅÜÔºÅ",
                    fact: "Â∞ÇÈñÄÂ≠¶Ê†°„ÅÆÂÖàÁîü„Å´„Çà„ÇãÂá∫ÂºµÊéàÊ•≠„ÇÑ„ÄÅË≥áÊ†ºÂèñÂæó„ÇíÂº∑Âäõ„Å´„Çµ„Éù„Éº„Éà„Åó„Åæ„Åô„ÄÇÈ´òÊ†°ÂçíÊ•≠Âæå„ÅÆÂ∞±ËÅ∑„ÇÑÂ∞ÇÈñÄÂ≠¶Ê†°„Å∏„ÅÆÈÄ≤Â≠¶„Çí„Ç§„É°„Éº„Ç∏„Åó„Åü„ÄÅÂç≥Êà¶Âäõ„ÅÆ„Çπ„Ç≠„É´„ÇíË∫´„Å´„Å§„Åë„Çã„Éó„É≠„Ç∞„É©„É†„Åß„Åô„ÄÇÂü∫Á§é„Éó„É≠„Ç∞„É©„É†„ÅØ„Å™„ÅÑ„ÅÆ„Åß„ÄÅ‰ªñ„Éó„É≠„Ç∞„É©„É†„ÇíÊßò„ÄÖÁµåÈ®ì„Åó„Å¶„Åø„Çã„ÅÆ„ÇÇ„Åä„Åô„Åô„ÇÅ„Åß„Åô„ÄÇ",
                },
                sports: {
                    id: 'sports',
                    title: '„Çπ„Éù„Éº„ÉÑ',
                    subtitle: '„ÄúÈ†ÇÁÇπ„ÇíÁõÆÊåá„Åô„Ç¢„Çπ„É™„Éº„Éà„Äú',
                    color: 'bg-orange-50 border-orange-200',
                    headerBg: 'bg-gradient-to-b from-orange-100 to-white',
                    textGradient: 'from-orange-500 to-red-500',
                    accentColor: 'text-orange-600',
                    hexColor: '#F97316',
                    bgHex: '#FFF7ED',
                    emoji: 'üèÜ',
                   icon: React.createElement("img", { src: "resulticon07.png", className: "w-22 h-22 object-contain drop-shadow-md", alt: "Icon" }),
                    midorisuMsg: "„Çπ„Éà„Ç§„ÉÉ„ÇØ„Å´Â§¢„ÇíËøΩ„ÅÑ„Åã„Åë„Çã„Ç≠„Éü„ÅÆÊÉÖÁÜ±„ÅØ„ÄÅÂë®„Çä„ÅÆ„Åø„Çì„Å™„Å´„ÇÇÂãáÊ∞ó„Çí„Åè„Çå„Çã„ÇàÔºÅüî• Â§ßÂ•Ω„Åç„Å™Á´∂ÊäÄ„Å´Ê≤°È†≠„Åó„Å¶„ÄÅ„Åù„ÅÆÂä™Âäõ„ÇíÈÄ≤Ë∑Ø„Å®„ÅÑ„ÅÜÊúÄÈ´ò„ÅÆÁµêÊûú„Å´Áπã„Åí„Çà„ÅÜÔºÅ",
                    fact: "Âº∑ÂåñÊåáÂÆöÈÉ®ÔºàÊñ∞‰ΩìÊìç„Éª„Éê„É¨„Éº„Éú„Éº„É´Ôºâ„Å´ÊâÄÂ±û„Åó„ÄÅ„Çπ„Éù„Éº„ÉÑ„ÅÆÊàêÊûú„Åß„ÅÆÂ§ßÂ≠¶ÈÄ≤Â≠¶„ÇíÁõÆÊåá„Åó„Åæ„Åô„ÄÇ3Âπ¥Ê¨°„Å´„ÅØÂçàÂæå„ÅÆÊôÇÈñì„Çí„Åô„Åπ„Å¶ÈÉ®Ê¥ªÂãï„Å´ÈõÜ‰∏≠„Åï„Åõ„Çã„Åì„Å®„Åå„Åß„Åç„ÄÅÂ≠¶Ê•≠„Å®Á´∂ÊäÄ„ÅÆ‰∏°Á´ã„ÇíÂæπÂ∫ï„Çµ„Éù„Éº„Éà„Åó„Åæ„Åô„ÄÇ",
                },
            };

            const questions = {
                q1: {
                    text: "„Å©„Çì„Å™È´òÊ†°ÁîüÊ¥ª„ÇíÈÄÅ„Çä„Åü„ÅÑÔºü",
                    options: [
                        { label: "ÂøóÊúõÊ†°ÂêàÊ†ºÔºÅÂãâÂº∑„Å´ÈõÜ‰∏≠„Åó„Å¶È´ò„ÅÑÁõÆÊ®ô„ÇíÁõÆÊåá„Åô üìö", value: "S" },
                        { label: "Áµ∂ÂØæ„Å´Âè∂„Åà„Åü„ÅÑÔºÅÂåªÁôÇ„ÇÑÊïôËÇ≤„ÄÅÂ∞ÇÈñÄÁöÑ„Å™ËÅ∑Ê•≠„ÇíÁõÆÊåá„Åó„Åü„ÅÑüíâ", value: "S" },
                        { label: "ÈÉ®Ê¥ª„ÇÇË°å‰∫ã„ÇÇÔºÅËâ≤„Çì„Å™‰ΩìÈ®ì„Çí„Åó„Å¶‰∏ñÁïå„ÇíÂ∫É„Åí„Åü„ÅÑ üåè", value: "A" },
                        { label: "„Åæ„Å†Â§¢„ÅØÊé¢„Åó‰∏≠„ÄÇËá™ÂàÜ„ÅÆ„ÄåÂ•Ω„Åç„Äç„ÇíË¶ã„Å§„Åë„Åü„ÅÑ üîç", value: "A" },
                    ]
                },
                q2_S: {
                    text: "„Å©„Çì„Å™„Åì„Å®„Å´‰∏ÄÁï™„ÉØ„ÇØ„ÉØ„ÇØ„Åô„ÇãÔºü",
                    options: [
                        { label: "Èõ£„Åó„ÅÑÂïèÈ°å„ÇíËß£„ÅÑ„Åü„Çä„ÄÅÊ∑±„ÅÑÁü•Ë≠ò„ÇíÂæó„Çã„Åì„Å® üìñ", value: "Academic_Future" },
                        { label: "Á§æ‰ºö„ÅÆË™≤È°å„Å´„Å§„ÅÑ„Å¶ËÄÉ„Åà„Åü„Çä„ÄÅËß£Ê±∫Á≠ñ„ÇíÊé¢„Åô„Åì„Å® üí°", value: "Academic_Future" },
                        { label: "Âõ∞„Å£„Å¶„ÅÑ„Çã‰∫∫„ÇíÂä©„Åë„Åü„Çä„ÄÅÊîØ„Åà„Å¶„ÅÇ„Åí„Çã„Åì„Å® ü§ù", value: "Nursing_Child" },
                        { label: "Â≠ê‰æõ„Å®ÈÅä„Çì„Å†„Çä„ÄÅÊàêÈï∑„ÇíË¶ãÂÆà„Çã„Åì„Å® üë∂", value: "Nursing_Child" },
                    ]
                },
                q3_S_AF: {
                    text: "Â∞ÜÊù•„ÄÅ„Å©„Çì„Å™Â§ß‰∫∫„Å´„Å™„Çä„Åü„ÅÑÔºü",
                    options: [
                        { label: "Â∞ÇÈñÄÁü•Ë≠ò„ÇíÊåÅ„Å£„ÅüÁ†îÁ©∂ËÄÖ„ÇÑ„Çπ„Éö„Ç∑„É£„É™„Çπ„Éàüéì", value: "academics" },
                        { label: "Èõ£Èñ¢Â§ßÂ≠¶„Å´ÂÖ•„Å£„Å¶„ÄÅÂèØËÉΩÊÄß„ÇíÂ∫É„Åí„Åü„ÅÑ‚ú®", value: "academics" },
                        { label: "Ëá™ÂàÜ„ÅÆÂäõ„ÇíÁ§æ‰ºö„ÅÆÂΩπ„Å´Á´ã„Å¶„Åü„ÅÑüí™", value: "future_exploration" },
                        { label: "Á§æ‰ºö„ÅÆÂïèÈ°å„ÇíËß£Ê±∫„Åô„ÇãÊé¢Á©∂ËÄÖüî¨", value: "future_exploration" },
                    ]
                },
                q3_S_NC: {
                    text: "„Å©„ÅÆ‰ΩìÈ®ì„Å´Ë°å„Å£„Å¶„Åø„Åü„ÅÑÔºü",
                    options: [
                        { label: "ÁóÖÈô¢ÔºÅ„Éä„Éº„ÇπÊúç„ÇíÁùÄ„Å¶ÁèæÂ†¥„ÇíË¶ã„Å¶„Åø„Åü„ÅÑüè•", value: "nursing" },
                        { label: "„Éî„Ç¢„Éé„ÇíÂºæ„ÅÑ„Å¶„ÄÅ„Åø„Çì„Å™„Å®Ê≠å„ÅÑ„Åü„ÅÑüéπ", value: "child_education" },
                        { label: "ÂåªÁôÇ„Éâ„É©„Éû„Åø„Åü„ÅÑ„Å´„ÄÅÂëΩ„ÇíÊïë„ÅÜÁèæÂ†¥„Å´ÊÜß„Çå„Çãü©∫", value: "nursing" },      
                        { label: "ÂπºÁ®öÂúíÔºÅÂ≠ê‰æõ„Åü„Å°„Å®‰∏ÄÁ∑í„Å´ÈÅä„Å≥„Åü„ÅÑüë©‚Äçüë¶", value: "child_education" },                 
                    ]
                },
                q2_A: {
                    text: "ÊîæË™≤Âæå„ÄÅ‰Ωï„Çí„Åó„Å¶„ÅÑ„ÇãÊôÇ„ÅåËºù„ÅÑ„Å¶„ÇãÔºü",
                    options: [
                        { label: "ÈÉ®Ê¥ª„ÅßÊ±ó„ÇíÊµÅ„Åó„Å¶„ÅÑ„ÇãÊôÇÔºÅÈÅãÂãïÂ§ßÂ•Ω„Åç üèÉ‚Äç‚ôÄÔ∏è", value: "Active" },
                        { label: "PC„Çí‰Ωø„Å£„Åü„Çä„ÄÅ‰Ωï„ÅãÊäÄË°ì„ÇíË∫´„Å´„Å§„Åë„Å¶„ÅÑ„ÇãÊôÇ üíª", value: "Skill" },
                        { label: "Ë™∞„Åã„Å®Ë©±„Åó„Åü„Çä„ÄÅ„Åä‰∏ñË©±„Çí„Åó„Å¶„ÅÑ„ÇãÊôÇ üó£Ô∏è", value: "Human" },
                        { label: "„Éã„É•„Éº„Çπ„ÇíË¶ã„Åü„Çä„ÄÅÊñ∞„Åó„ÅÑÁô∫Ë¶ã„Çí„Åó„ÅüÊôÇ üì°", value: "Social" },
                    ]
                },
                q3_A_ActiveSkill: {
                    text: "È´òÊ†°ÂçíÊ•≠Âæå„ÅÆ„Ç§„É°„Éº„Ç∏„ÅØÔºü",
                    options: [
                        { label: "„Çπ„Éù„Éº„ÉÑÊé®Ëñ¶„ÅßÂ§ßÂ≠¶„Å∏ÔºÅÁ´∂ÊäÄ„ÇíÊ•µ„ÇÅ„Åü„ÅÑ‚õ∑Ô∏è", value: "sports" },
                        { label: "Â∞ÇÈñÄÂ≠¶Ê†°„Åß„Éó„É≠„ÅÆÊäÄË°ì„ÇíÊó©„ÅèË∫´„Å´„Å§„Åë„Åü„ÅÑüé®", value: "career_build" },
                        { label: "ÈÉ®Ê¥ª„ÅÆ‰ª≤Èñì„Å®ÂÖ®ÂõΩ„ÇíÁõÆÊåá„Åó„Å¶È†ëÂºµ„Çä„Åü„ÅÑüèê", value: "sports" },
                        { label: "Ë≥áÊ†º„ÇíÊ≠¶Âô®„Å´„ÄÅÁ§æ‰ºö„ÅßÂç≥Êà¶Âäõ„Å´„Å™„Çä„Åü„ÅÑüíª", value: "career_build" },
                    ]
                },
                q3_A_HumanSocial: {
                    text: "„Å©„Çì„Å™Â†¥ÊâÄ„ÅßÊ¥ªË∫ç„Åó„Å¶„Åø„Åü„ÅÑÔºü",
                    options: [
                        { label: "ÁóÖÈô¢„ÇÑÂåªÁôÇÊ©üÈñ¢„Åß„ÄÅ‰∫∫„ÇíÊîØ„Åà„Åü„ÅÑü©∫", value: "nursing" },
                        { label: "ÂπºÁ®öÂúí„ÇÑ‰øùËÇ≤Âúí„Åß„ÄÅÂ≠ê‰æõ„ÇíËÇ≤„Å¶„Åü„ÅÑüë©‚Äçüë¶", value: "child_education" },
                        { label: "‰ºÅÊ•≠„ÅßÂÉç„ÅÑ„Å¶„Éó„É≠„Ç∏„Çß„ÇØ„Éà„ÇíÂãï„Åã„Åó„Åü„ÅÑüë©‚Äçüíª", value: "future_exploration" },
                        { label: "„Åæ„Å†ÂàÜ„Åã„Çâ„Å™„ÅÑ„Åã„Çâ„ÄÅËâ≤„Çì„Å™‰∏ñÁïå„ÇíË¶ã„Å¶Ê±∫„ÇÅ„Åü„ÅÑüëÄ", value: "future_exploration" },
                    ]
                },
                q4: {
                    text: "ÊñáÂåñÁ•≠„ÅÆÊ∫ñÂÇô„ÄÅ„ÅÇ„Å™„Åü„ÅÆÂΩπÂâ≤„ÅØÔºü",
                    options: [
                        { label: "„Åø„Çì„Å™„ÇíÂºï„Å£Âºµ„Çã„É™„Éº„ÉÄ„Éº„Çø„Ç§„Éó üòé", value: "leader" },
                        { label: "Âõ∞„Å£„Åü‰∫∫„ÇíÂä©„Åë„Çã„Çµ„Éù„Éº„Çø„Éº„Çø„Ç§„Éó üòä", value: "supporter" },
                        { label: "Â†¥„ÇíÁõõ„Çä‰∏ä„Åí„Çã„É†„Éº„Éâ„É°„Éº„Ç´„Éº ü•≥", value: "mood" },
                        { label: "„Ç≥„ÉÑ„Ç≥„ÉÑ‰ΩúÊ•≠„Åô„ÇãËÅ∑‰∫∫„Çø„Ç§„Éó ü§ì", value: "craftsman" },
                    ]
                },
                q5: {
                    text: "Â≠¶Ê†°ÁîüÊ¥ª„Åß‰∏ÄÁï™Â§ßÂàá„Å´„Åó„Åü„ÅÑ„ÅÆ„ÅØÔºü",
                    options: [
                        { label: "„ÄåÊàêÈï∑„ÄçËá™ÂàÜ„ÇíÈ´ò„ÇÅ„Çã„Åì„Å®üìà", value: "growth" },
                        { label: "„ÄåÂèãÊÉÖ„Äç‰ª≤Èñì„Å®„ÅÆÊÄù„ÅÑÂá∫ü§ù", value: "friendship" },
                        { label: "„ÄåÂÆâÂøÉ„ÄçËá™ÂàÜ„Çâ„Åó„Åè„ÅÑ„Çâ„Çå„ÇãÂ†¥ÊâÄ‚ô•Ô∏è", value: "peace" },
                        { label: "„ÄåÊåëÊà¶„ÄçÊñ∞„Åó„ÅÑ„Åì„Å®„Å∏„ÅÆ„ÉÅ„É£„É¨„É≥„Ç∏üéâ", value: "challenge" },
                    ]
                },
                q6: {
                    text: "ÂÖ•Â≠¶Ââç„ÅÆ‰ªä„ÅÆÊ∞óÊåÅ„Å°„ÇíÂ§©Ê∞ó„Åß‰æã„Åà„Çã„Å®Ôºü",
                    options: [
                        { label: "Âø´Êô¥ÔºÅÊ•Ω„Åó„Åø„ÅßÂæÖ„Å°„Åç„Çå„Å™„ÅÑÔºÅ ‚òÄÔ∏è", value: "low" },
                        { label: "Êô¥„ÇåÊôÇ„ÄÖÊõá„Çä„ÄÇ„Éâ„Ç≠„Éâ„Ç≠„Åô„Çã„Åë„Å©Ê•Ω„Åó„Åø üå§Ô∏è", value: "low" },
                        { label: "Êõá„Çä...„ÄÇÂãâÂº∑„Å´„Å§„ÅÑ„Å¶„ÅÑ„Åë„Çã„ÅãÂ∞ë„Åó‰∏çÂÆâ ‚òÅÔ∏è", value: "high" },
                        { label: "Èõ®„ÅÆ„Å°Êô¥„ÇåÂ∏åÊúõ„ÄÇÊÇ©„Åø„ÇíËÅû„ÅÑ„Å¶„Åª„Åó„ÅÑ„Å™ ‚òÇÔ∏è", value: "high" },
                    ]
                }
            };

            const handleAnswer = (value) => {
                const newHistory = [...history, value];
                setHistory(newHistory);

                if (step === 'q1') {
                    if (value === 'S') setStep('q2_S');
                    else setStep('q2_A');
                }
                else if (step === 'q2_S') {
                    if (value === 'Academic_Future') setStep('q3_S_AF');
                    else setStep('q3_S_NC');
                }
                else if (step === 'q3_S_AF' || step === 'q3_S_NC') {
                    setProgramResult(value);
                    setStep('q4');
                }
                else if (step === 'q2_A') {
                    if (value === 'Active' || value === 'Skill') setStep('q3_A_ActiveSkill');
                    else setStep('q3_A_HumanSocial');
                }
                else if (step === 'q3_A_ActiveSkill' || step === 'q3_A_HumanSocial') {
                    setProgramResult(value);
                    setStep('q4');
                }
                else if (step === 'q4') setStep('q5');
                else if (step === 'q5') setStep('q6');
                else if (step === 'q6') {
                    setAnxietyLevel(value);
                    setStep('result');
                }
            };

            const resetDiagnosis = () => {
                setStep('start');
                setHistory([]);
                setProgramResult(null);
                setAnxietyLevel('low');
                setShowShareModal(false);
                setGeneratedImage(null);
                setCopySuccess(false);
            };

            const wrapText = (ctx, text, x, y, maxWidth, lineHeight) => {
                const words = text.split('');
                let line = '';
                let startY = y;

                for (let n = 0; n < words.length; n++) {
                    const testLine = line + words[n];
                    const metrics = ctx.measureText(testLine);
                    const testWidth = metrics.width;
                    if (testWidth > maxWidth && n > 0) {
                        ctx.fillText(line, x, y);
                        line = words[n];
                        y += lineHeight;
                    } else {
                        line = testLine;
                    }
                }
                ctx.fillText(line, x, y);
                return y + lineHeight;
            };

            const roundRect = (ctx, x, y, w, h, r) => {
                if (w < 2 * r) r = w / 2;
                if (h < 2 * r) r = h / 2;
                ctx.beginPath();
                ctx.moveTo(x + r, y);
                ctx.arcTo(x + w, y, x + w, y + h, r);
                ctx.arcTo(x + w, y + h, x, y + h, r);
                ctx.arcTo(x, y + h, x, y, r);
                ctx.arcTo(x, y, x + w, y, r);
                ctx.closePath();
                return ctx;
            };

            const generateShareImageBlob = (result) => {
                return new Promise((resolve, reject) => {
                    try {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        const width = 1080;
                        const height = 1920;
                        canvas.width = width;
                        canvas.height = height;

                        const gradient = ctx.createLinearGradient(0, 0, 0, height);
                        gradient.addColorStop(0, result.bgHex || '#EFF6FF');
                        gradient.addColorStop(1, '#FFFFFF');
                        ctx.fillStyle = gradient;
                        ctx.fillRect(0, 0, width, height);

                        ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';
                        ctx.beginPath();
                        ctx.arc(100, 100, 200, 0, Math.PI * 2);
                        ctx.fill();
                        ctx.beginPath();
                        ctx.arc(width - 50, height - 100, 300, 0, Math.PI * 2);
                        ctx.fill();

                        ctx.shadowColor = 'rgba(0, 0, 0, 0.1)';
                        ctx.shadowBlur = 40;
                        ctx.shadowOffsetY = 20;

                        const cardX = 100;
                        const cardY = 300;
                        const cardW = width - 200;
                        const cardH = 1200;
                        ctx.fillStyle = '#FFFFFF';
                        roundRect(ctx, cardX, cardY, cardW, cardH, 60).fill();

                        ctx.shadowColor = 'transparent';
                        ctx.shadowBlur = 0;
                        ctx.shadowOffsetY = 0;

                        ctx.font = '200px serif';
                        ctx.textAlign = 'center';
                        ctx.textBaseline = 'middle';
                        ctx.fillText(result.emoji || '‚ú®', width / 2, cardY + 200);

                        ctx.fillStyle = '#9CA3AF';
                        ctx.font = 'bold 40px sans-serif';
                        ctx.fillText('YOU ARE...', width / 2, cardY + 400);

                        ctx.fillStyle = result.hexColor || '#3B82F6';
                        ctx.font = 'bold 100px sans-serif';
                        ctx.fillText(result.title, width / 2, cardY + 520);

                        ctx.fillStyle = '#4B5563';
                        ctx.font = 'bold 50px sans-serif';
                        ctx.fillText(result.subtitle, width / 2, cardY + 620);

                        const msgX = cardX + 80;
                        const msgY = cardY + 700;
                        const msgW = cardW - 160;
                        const msgH = 430;

                        ctx.fillStyle = '#F0FDF4';
                        ctx.strokeStyle = '#BBF7D0';
                        ctx.lineWidth = 4;
                        roundRect(ctx, msgX, msgY, msgW, msgH, 40);
                        ctx.fill();
                        ctx.stroke();

                        ctx.fillStyle = '#374151';
                        ctx.font = '40px sans-serif';
                        ctx.textAlign = 'left';
                        wrapText(ctx, result.midorisuMsg, msgX + 40, msgY + 80, msgW - 80, 60);

                        ctx.font = 'bold 30px sans-serif';
                        ctx.fillStyle = '#15803D';
                        ctx.textAlign = 'right';
                        ctx.fillText('üêøÔ∏è „Åø„Å©„Çä„Åô„Çà„Çä', msgX + msgW - 40, msgY + msgH - 40);

                        ctx.textAlign = 'center';
                        ctx.font = 'bold 40px sans-serif';
                        ctx.fillStyle = '#9CA3AF';
                        ctx.fillText('#Á∑ë„É∂‰∏òÂ•≥Â≠ê #„Å™„Çä„Åü„ÅÑËá™ÂàÜË®∫Êñ≠', width / 2, height - 150);

                        canvas.toBlob((blob) => {
                            if (blob) resolve(blob);
                            else reject(new Error('Canvas conversion failed'));
                        }, 'image/png');

                    } catch (e) {
                        reject(e);
                    }
                });
            };

            const handleShareClick = async () => {
                if (!programResult || isGeneratingImage) return;

                setIsGeneratingImage(true);
                const result = programs[programResult];

                try {
                    const blob = await generateShareImageBlob(result);
                    const url = URL.createObjectURL(blob);
                    setGeneratedImage(url);

                    if (navigator.clipboard && navigator.clipboard.write) {
                        try {
                            await navigator.clipboard.write([
                                new ClipboardItem({ 'image/png': blob })
                            ]);
                            setCopySuccess(true);
                        } catch (copyError) {
                            console.warn("Clipboard write failed:", copyError);
                            setCopySuccess(false);
                        }
                    } else {
                        setCopySuccess(false);
                    }

                    setShowShareModal(true);
                } catch (err) {
                    console.error('Image generation/copy failed', err);
                    alert('ÁîªÂÉè„ÅÆÁîüÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');
                } finally {
                    setIsGeneratingImage(false);
                }
            };

            const handleOpenInstagram = (e) => {
                e.preventDefault();
                // 1. „Åæ„Åö„Ç¢„Éó„É™„ÅÆ„Çπ„Éà„Éº„É™„Éº„Ç´„É°„É©Ëµ∑Âãï„ÇíË©¶„Åø„Çã
                window.location.href = "instagram://story-camera";
                
                // 2. 0.5Áßí‰ª•ÂÜÖ„Å´„Ç¢„Éó„É™„ÅåÈñã„Åã„Å™„Åã„Å£„Åü„ÇâWebÁâà„Åæ„Åü„ÅØ„Ç¢„Éó„É™„Éà„ÉÉ„Éó„Å∏„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ
                setTimeout(() => {
                    window.location.href = "https://www.instagram.com/";
                }, 500);
            };

            const getProgress = () => {
                if (step === 'start') return 0;
                if (step === 'result') return 100;
                const stepNum = parseInt(step.replace(/[^0-9]/g, '').substring(0, 1));
                return (stepNum / 6) * 100;
            };

            if (step === 'start') {
                return React.createElement("div", { className: "min-h-screen bg-gray-50 flex items-center justify-center p-4 font-sans" },
                    React.createElement("div", { className: "w-full max-w-md bg-white rounded-3xl shadow-xl overflow-hidden border-4 border-white ring-4 ring-green-100/50" },
                        React.createElement("div", { className: "bg-gradient-to-br from-green-400 to-teal-500 p-8 text-center relative overflow-hidden" },
                            React.createElement("div", { className: "absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10" }),
                            React.createElement("div", { className: "bg-white/20 backdrop-blur-sm rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-4 border-4 border-white/30 shadow-lg animate-bounce" },
                                React.createElement("img", { src: "topicon01.png", className: "w-32 h-32 object-contain drop-shadow-md", alt: "Top Icon" })
                            ),
                            React.createElement("h1", { className: "text-3xl font-black text-white drop-shadow-md mb-2" },
                                "Á∑ë„É∂‰∏òÂ•≥Â≠ê", React.createElement("br", null),
                                React.createElement("span", { className: "text-yellow-300 text-4xl" }, "„Å™„Çä„Åü„ÅÑËá™ÂàÜË®∫Êñ≠")
                            ),
                            React.createElement("div", { className: "inline-block bg-white/20 text-white px-3 py-1 rounded-full text-sm font-bold backdrop-blur-md" },
                                "2026Âπ¥ Êñ∞„Éó„É≠„Ç∞„É©„É†ÂØæÂøú‚ú®"
                            )
                        ),
                        React.createElement("div", { className: "p-6" },
                            React.createElement("p", { className: "text-gray-600 text-center leading-relaxed font-medium mb-8 bg-green-50 p-4 rounded-2xl border border-green-100" },
                                "Êñ∞„Åó„ÅèÁîü„Åæ„ÇåÂ§â„Çè„Å£„ÅüÁ∑ë„É∂‰∏òÂ•≥Â≠ê„ÄÇ", React.createElement("br", null),
                                "„ÅÇ„Å™„Åü„Å´„Å¥„Å£„Åü„Çä„ÅÆ", React.createElement("br", null),
                                React.createElement("span", { className: "font-bold text-green-600" }, "„Äå6„Å§„ÅÆ„Éó„É≠„Ç∞„É©„É†„Äç"), "„ÅØ„Å©„ÇåÔºü", React.createElement("br", null),
                                "„Åø„Å©„Çä„Åô„Å®‰∏ÄÁ∑í„Å´Êé¢„Åó„Å¶„Åø„Çà„ÅÜÔºÅüêøÔ∏è"
                            ),
                            React.createElement("button", {
                                onClick: () => setStep('q1'),
                                className: "w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white font-bold py-4 px-6 rounded-2xl text-xl shadow-lg transform transition active:scale-95 flex items-center justify-center group"
                            },
                                "Ë®∫Êñ≠„Çπ„Çø„Éº„ÉàÔºÅ",
                                React.createElement(ArrowRight, { className: "ml-2 w-6 h-6 group-hover:translate-x-1 transition-transform" })
                            )
                        )
                    )
                );
            }

            if (step.startsWith('q')) {
                const currentQ = questions[step];

                return React.createElement("div", { className: "min-h-screen bg-blue-50 flex items-center justify-center p-4 font-sans" },
                    React.createElement("div", { className: "w-full max-w-md bg-white rounded-3xl shadow-xl overflow-hidden relative border-4 border-white" },
                        React.createElement("div", { className: "bg-gray-100 h-3 w-full" },
                            React.createElement("div", {
                                className: "bg-gradient-to-r from-pink-400 to-yellow-400 h-3 transition-all duration-500 ease-out",
                                style: { width: `${getProgress()}%` }
                            })
                        ),
                        React.createElement("div", { className: "p-6 pb-8" },
                            React.createElement("div", { className: "flex justify-between items-center mb-6" },
                            React.createElement("span", { className: "bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-xs font-bold" },
                                `Q${step.replace(/[^0-9]/g, '').substring(0, 1)} / 6`
                            ),
                            // ÁîªÂÉè„Å´Â§âÊõ¥Ôºà„Çµ„Ç§„Ç∫„ÅØ w-8 h-8 „ÅßË™øÊï¥Ê∏à„ÅøÔºâ
                            React.createElement("img", { 
                               src: "subicon01.png", 
                               className: "w-8 h-8 object-contain animate-pulse", 
                               alt: "Sub Icon" 
                            })
                        ),
                            React.createElement("h2", { className: "text-xl md:text-2xl font-bold text-gray-800 mb-8 text-center leading-snug" },
                                currentQ.text
                            ),
                            React.createElement("div", { className: "space-y-3" },
                                currentQ.options.map((opt, idx) => (
                                    React.createElement("button", {
                                        key: idx,
                                        onClick: () => handleAnswer(opt.value),
                                        className: "w-full bg-white border-2 border-gray-100 hover:border-pink-400 hover:bg-pink-50 text-gray-700 font-bold py-4 px-4 rounded-xl text-left transition-all active:scale-98 flex items-center shadow-sm group"
                                    },
                                        React.createElement("span", { className: "w-8 h-8 rounded-full bg-gray-100 group-hover:bg-pink-200 text-gray-500 group-hover:text-pink-600 flex items-center justify-center mr-3 font-black text-sm flex-shrink-0 transition-colors" },
                                            ['A', 'B', 'C', 'D'][idx]
                                        ),
                                        React.createElement("span", { className: "text-sm md:text-base leading-tight" },
                                            opt.label
                                        )
                                    )
                                ))
                            )
                        )
                    )
                );
            }

            if (step === 'result' && programResult) {
                const result = programs[programResult];

                return React.createElement("div", { className: "min-h-screen bg-gray-50 flex items-center justify-center p-4 font-sans py-8 relative" },
                    React.createElement("div", { className: "w-full max-w-md bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-white relative animate-fade-in-up" },
                        React.createElement("div", { className: "absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-pink-400 via-yellow-400 to-blue-400" }),
                        React.createElement("div", { className: `${result.headerBg} p-8 text-center relative overflow-hidden` },
                            React.createElement("div", { className: "absolute top-[-20%] left-[-20%] w-48 h-48 bg-white opacity-30 rounded-full blur-2xl" }),
                            React.createElement("div", { className: "bg-white w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl border-4 border-white/60" },
                                result.icon
                            ),
                            React.createElement("p", { className: "font-bold text-gray-500 text-xs tracking-widest uppercase mb-1 bg-white/50 inline-block px-3 py-1 rounded-full backdrop-blur-sm" },
                                "YOU ARE..."
                            ),
                            React.createElement("h1", { className: `text-3xl md:text-4xl font-black mb-2 bg-gradient-to-r ${result.textGradient} bg-clip-text text-transparent drop-shadow-sm` },
                                result.title
                            ),
                            React.createElement("p", { className: `font-bold text-sm ${result.accentColor} bg-white/60 inline-block px-4 py-1 rounded-lg shadow-sm` },
                                result.subtitle
                            )
                        ),
                        React.createElement("div", { className: "p-5 space-y-5 bg-gradient-to-b from-white to-gray-50" },
                            React.createElement("div", { className: "flex gap-3" },
                                React.createElement("div", { className: "flex-shrink-0 flex flex-col items-center" },
                                   React.createElement("div", { className: "w-16 h-16 bg-green-100 rounded-full flex items-center justify-center border-2 border-white shadow-md mb-1 relative overflow-hidden" },
                                     // img„Çø„Ç∞„Å´Â§âÊõ¥„Åó„ÄÅclassName„Åß„Çµ„Ç§„Ç∫Ë™øÊï¥Ôºàobject-cover„Å™„Å©Ôºâ„ÇíËøΩÂä†
                                      React.createElement("img", { src: "resulticon01.png", className: "w-full h-full object-cover", alt: "„Åø„Å©„Çä„Åô" })
                                    ),
                                    React.createElement("span", { className: "text-[10px] font-bold text-green-700 bg-green-100 px-2 py-0.5 rounded-full" }, "„Åø„Å©„Çä„ÅôÂÖàÁîü")
                                ),
                               React.createElement("div", { className: "bg-white p-5 rounded-2xl rounded-tl-none border-2 border-green-100 shadow-sm flex-1 flex flex-col gap-2" },
                                // 1. „É°„ÉÉ„Çª„Éº„Ç∏Êú¨Êñá
                                React.createElement("p", { className: "text-sm leading-relaxed text-gray-700 font-medium" },
                                    result.midorisuMsg
                                ),
                                // 2. ÁΩ≤ÂêçÔºàÂè≥ÂØÑ„ÅõÔºâ
                                React.createElement("p", { className: "text-xs font-bold text-green-600 text-right mt-1" },
                                    "üêøÔ∏è „Åø„Å©„Çä„Åô„Çà„Çä"
                                )
                                 ),
                            ),
                            React.createElement("div", { className: `bg-white border-l-4 ${result.color.replace('bg-', 'border-').replace('border-', 'border-l-')} rounded-r-xl p-4 shadow-sm` },
                                React.createElement("h3", { className: "flex items-center text-xs font-bold text-gray-400 uppercase tracking-wider mb-2" },
                                    React.createElement("span", { className: "w-1.5 h-1.5 bg-gray-400 rounded-full mr-2" }),
                                    "ÂÆüÈöõ„ÅØ...?"
                                ),
                                React.createElement("p", { className: "text-gray-600 text-sm leading-relaxed" },
                                    result.fact
                                )
                            ),
                            React.createElement("div", { className: `rounded-xl p-4 border ${anxietyLevel === 'high' ? 'bg-amber-50 border-amber-200' : 'bg-blue-50 border-blue-200'}` },
                                React.createElement("div", { className: "flex items-center gap-2 mb-2" },
                                    React.createElement(Heart, { className: `w-4 h-4 ${anxietyLevel === 'high' ? 'text-amber-500' : 'text-blue-500'}`, fill: "currentColor" }),
                                    React.createElement("h3", { className: `font-bold text-xs ${anxietyLevel === 'high' ? 'text-amber-700' : 'text-blue-700'}` },
                                        "„Ç®„É≥„Ç∏„Çß„É´„É´„Éº„É†„Éª‰øùÂÅ•ÂÆ§„Çà„Çä"
                                    )
                                ),
                                React.createElement("p", { className: "text-xs text-gray-600 leading-relaxed" },
                                    anxietyLevel === 'high'
                                        ? "„Äå„ÇÇ„Åó„ÄÅÊñ∞„Åó„ÅÑÁí∞Â¢É„ÅåÂ∞ë„Åó‰∏çÂÆâ„Å†„Å£„Åü„Çä„ÄÅËá™ÂàÜ„ÅÆ„Éö„Éº„Çπ„Åß„ÇÜ„Å£„Åè„ÇäÈÄ≤„Åø„Åü„Åè„Å™„Å£„Åü„Çä„Åó„Å¶„ÇÇÂ§ß‰∏àÂ§´üçÄ Á∑ë„É∂‰∏òÂ•≥Â≠ê„Å´„ÅØ„ÄÅÂøÉ„Å®‰Ωì„Çí‰ºë„Åæ„Åõ„Å™„Åå„ÇâËá™ÂàÜ„ÅÆË™≤È°å„Å´Âèñ„ÇäÁµÑ„ÇÅ„Çã„Äé„Ç®„É≥„Ç∏„Çß„É´„É´„Éº„É†„Äè„Åå„ÅÇ„Çã„Çì„Å†„ÄÇ„Å©„Çì„Å™ÊôÇ„ÇÇ„ÄÅ„Ç≠„Éü„Åå„Ç≠„Éü„Çâ„Åó„Åè„ÅÑ„Çâ„Çå„ÇãÂ†¥ÊâÄ„ÇíÂ§ßÂàá„Å´ÂÆà„Å£„Å¶„ÅÑ„Çã„Çà„ÄÇ„Äç"
                                        : "Á∑ë„É∂‰∏òÂ•≥Â≠ê„Å´„ÅØ„ÄÅÂøÉ„Å®‰Ωì„Çí‰ºë„Åæ„Åõ„Çã„Äé„Ç®„É≥„Ç∏„Çß„É´„É´„Éº„É†„Äè„ÇÇÊñ∞Ë®≠‚ú® „Ç≠„Éü„Åå„Å©„Çì„Å™ÊôÇ„Åß„ÇÇÂÆâÂøÉ„Åó„Å¶ÊåëÊà¶„Åß„Åç„ÇãÁí∞Â¢É„ÅåÊï¥„Å£„Å¶„ÅÑ„Çã„Åã„Çâ„ÄÅÊÄù„ÅÑ„Å£„Åç„ÇäÈ£õ„Å≥Ëæº„Çì„Åß„Åä„ÅÑ„ÅßÔºÅ"
                                )
                            ),
                            React.createElement("div", { className: "space-y-3 pt-2" },
                                React.createElement("a", {
                                    href: "https://midorigaoka.ed.jp/",
                                    target: "_blank",
                                    rel: "noopener noreferrer",
                                    className: "w-full bg-gradient-to-r from-gray-800 to-gray-700 hover:from-black hover:to-gray-800 text-white font-bold py-3.5 px-6 rounded-xl text-center shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2"
                                },
                                    "ÂÖ¨Âºè„Çµ„Ç§„Éà„ÅßË©≥„Åó„ÅèË¶ã„Çã",
                                    React.createElement(ArrowRight, { size: 18 })
                                ),
                                React.createElement("button", {
                                    onClick: handleShareClick,
                                    disabled: isGeneratingImage,
                                    className: `w-full bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white font-bold py-3.5 px-6 rounded-xl text-center shadow-md transition-transform active:scale-95 flex items-center justify-center gap-2 ${isGeneratingImage ? 'opacity-70 cursor-wait' : ''}`
                                },
                                    isGeneratingImage ? React.createElement(RefreshCw, { className: "animate-spin", size: 18 }) : React.createElement(Instagram, { size: 18 }),
                                    isGeneratingImage ? 'ÁîªÂÉèÁîüÊàê‰∏≠...' : 'Instagram„Åß„Ç∑„Çß„Ç¢'
                                ),
                                React.createElement("button", {
                                    onClick: resetDiagnosis,
                                    className: "w-full text-gray-400 hover:text-green-600 py-3 text-sm flex items-center justify-center gap-2 font-bold transition-colors"
                                },
                                    React.createElement(RefreshCw, { size: 14 }),
                                    "„ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®∫Êñ≠„Åô„Çã"
                                )
                            )
                        )
                    ),
                    showShareModal && React.createElement("div", { className: "fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 animate-fade-in" },
                        React.createElement("div", { className: "bg-white rounded-3xl p-6 w-full max-w-sm relative shadow-2xl transform transition-all scale-100 flex flex-col max-h-[90vh] overflow-y-auto" },
                            React.createElement("button", {
                                onClick: () => setShowShareModal(false),
                                className: "absolute top-4 right-4 text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1 z-10"
                            },
                                React.createElement(X, { size: 20 })
                            ),
                            React.createElement("div", { className: "text-center" },
                                React.createElement("div", { className: `w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${copySuccess ? 'bg-green-100 text-green-600' : 'bg-orange-100 text-orange-600'}` },
                                    copySuccess ? React.createElement(ImageIcon, { size: 32 }) : React.createElement(Download, { size: 32 })
                                ),
                                React.createElement("h3", { className: "text-xl font-bold text-gray-800 mb-2" },
                                    copySuccess ? "„Ç≥„Éî„ÉºÂÆå‰∫ÜÔºÅüìã" : "ÁîªÂÉè„Çí‰øùÂ≠ò„Åó„Å¶„Å≠ÔºÅüì∏"
                                ),
                                React.createElement("p", { className: "text-sm text-gray-600 mb-4 leading-relaxed" },
                                    copySuccess ? (
                                        React.createElement(React.Fragment, null,
                                            "Ë®∫Êñ≠ÁµêÊûú„ÅÆÁîªÂÉè„Çí„Ç≥„Éî„Éº„Åó„Åü„Çà„ÄÇ", React.createElement("br", null),
                                            "Instagram„ÇíÈñã„ÅÑ„Å¶„ÄÅ„Çπ„Éà„Éº„É™„Éº„Ç∫„Åß", React.createElement("br", null),
                                            React.createElement("span", { className: "font-bold text-pink-500" }, "„Äå„Éö„Éº„Çπ„Éà„Äç"), "„Åó„Å¶Ë≤º„Çä‰ªò„Åë„Å¶„Å≠ÔºÅ"
                                        )
                                    ) : (
                                        React.createElement(React.Fragment, null,
                                            "Ëá™Âãï„Ç≥„Éî„Éº„Åå„Åß„Åç„Å™„Åã„Å£„Åü„Åø„Åü„ÅÑüí¶", React.createElement("br", null),
                                            "‰∏ã„ÅÆÁîªÂÉè„Çí", React.createElement("span", { className: "font-bold text-orange-500" }, "Èï∑Êäº„Åó„Åó„Å¶‰øùÂ≠òÔºà„Åæ„Åü„ÅØ„Ç≥„Éî„ÉºÔºâ"), React.createElement("br", null),
                                            "„Åó„Å¶„Åã„ÇâInstagram„Å´Ë≤º„Å£„Å¶„Å≠ÔºÅ"
                                        )
                                    )
                                ),
                                generatedImage && React.createElement("div", { className: "mb-6 border-2 border-gray-100 rounded-xl overflow-hidden shadow-sm" },
                                    React.createElement("img", { src: generatedImage, alt: "Ë®∫Êñ≠ÁµêÊûú", className: "w-full h-auto" })
                                ),
                                React.createElement("div", { className: "bg-gray-50 rounded-xl p-4 mb-6 text-xs text-left border border-gray-100" },
                                    React.createElement("p", { className: "font-bold text-gray-500 mb-2" }, "ÊâãÈ†Ü„Éí„É≥„Éà:"),
                                    React.createElement("ol", { className: "list-decimal list-inside space-y-1 text-gray-600" },
                                        React.createElement("li", null, copySuccess ? "‰∏ã„ÅÆ„Éú„Çø„É≥„ÅßInstagram„ÇíÈñã„Åè" : "‰∏ä„ÅÆÁîªÂÉè„ÇíÈï∑Êäº„Åó„Åó„Å¶‰øùÂ≠ò"),
                                        React.createElement("li", null, "„Çπ„Éà„Éº„É™„Éº„Ç∫‰ΩúÊàêÁîªÈù¢„Å∏"),
                                        React.createElement("li", null, "ÊñáÂ≠óÂÖ•Âäõ„É¢„Éº„Éâ(Aa)„ÇíÈÅ∏Êäû"),
                                        React.createElement("li", null, "ÁîªÈù¢Èï∑Êäº„Åó„Åó„Å¶„Äå„Éö„Éº„Çπ„Éà„ÄçÔºÅ")
                                    )
                                ),
                                React.createElement("a", {
                                    href: "#", // „ÉÄ„Éü„Éº„É™„É≥„ÇØ
                                    onClick: handleOpenInstagram, // „Çπ„Éû„Éº„Éà„Å™Ëµ∑Âãï„Éè„É≥„Éâ„É©„Çí‰ΩøÁî®
                                    className: "block w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:opacity-90 text-white font-bold py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 mb-3 cursor-pointer"
                                },
                                    React.createElement(Instagram, { size: 20 }), " Instagram„ÇíÈñã„Åè"
                                ),
                                React.createElement("button", {
                                    onClick: () => setShowShareModal(false),
                                    className: "text-gray-400 text-sm font-bold hover:text-gray-600"
                                },
                                    "Èñâ„Åò„Çã"
                                )
                            )
                        )
                    )
                );
            };

            return null;
        };

        const root = createRoot(document.getElementById('root'));
        root.render(React.createElement(MidorigaokaDiagnosis));
    </script>
</body>
</html>